<!DOCTYPE html>
<html lang="fi">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=no">
<meta charset="utf-8" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="icon" href="favicon.png" sizes="16x16" type="image/png">
<style>
* {box-sizing: border-box}
</style>
<title>TPR perheen testisivu</title>
</head>
<body onload="palvelunKuvaus()">
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">
          <img src="logo.png" alt="Palvelukartta logo" height="65">
        </a><h2>TPR perheen testisivu</h2>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="index.html">Toimipiste
		                  <span class="sr-only">(current)</span>
              </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="toimipiste2.html">Toimipiste (tyhjä)</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="palvelu.html">Palvelu</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="palvelu2.html">Palvelu (tyhjä)</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container">
	<div class="col-sm-9">
	<h1 id="nimi"></h1>
	</div>

	<div class="main row">
	<div class="col-sm-9">
	<img src="https://www.vantaa.fi/instancedata/prime_product_julkaisu/vantaa/embeds/vantaawwwstructure/6922b659fec066daab2c45b0fa2641f1942e3a25.jpg" class="img-fluid" alt="jotain" />
	<div id="pitkä">
	 </div>
	<a href="https://www.hel.fi/palvelukarttaws/rest/v4/unit/44849">Linkki lähdetiedostoon</a> 
	</div>
	<div class="col-sm-3">
	<h4>Yhteystiedot</h4>
	<div id="katuosoite"></div>
	<span id="postinumero"></span> <span id="kaupunki"></span>
	<div id="puhelin"></div>
	<br>
	<div id="sposti"></div>
	</div>
	</div>
	</div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script>
	function palvelunKuvaus(){
				
			var ajaxRequest = new XMLHttpRequest();
			ajaxRequest.onreadystatechange = function(){
			
				if(ajaxRequest.readyState == 4){
					//the request is completed, now check its status
					if(ajaxRequest.status == 200){
						//turn JSON into object
						var jsonObj = JSON.parse(ajaxRequest.responseText);
						
						//get information from the object
                        var name = jsonObj.name_fi;
						var descriptionShort = jsonObj.short_desc_fi;
                        var descriptionLong = jsonObj.desc_fi;
                        var email = jsonObj.email;
					//	var kuva = jsonObj.picture_url;
						var kaupunki = jsonObj.address_city_fi;
						var postinumero = jsonObj.address_zip; 
						var katuosoite = jsonObj.street_address_fi;
						var puhelin = jsonObj.phone;
					//	var aukioloaika = jsonObj.connections.0.name_fi;
						
						
						//give data ID?
						document.getElementById("nimi").innerHTML = name;
                    //  document.getElementById("lyhyt").innerHTML = descriptionShort;
                        document.getElementById("pitkä").innerHTML = descriptionLong;
                        document.getElementById("sposti").innerHTML = email;
					//	document.getElementById("kuva").innerHTML = kuva;
						document.getElementById("kaupunki").innerHTML = kaupunki;
						document.getElementById("postinumero").innerHTML = postinumero;
						document.getElementById("katuosoite").innerHTML = katuosoite;
						document.getElementById("puhelin").innerHTML = puhelin;
					//	document.getElementById("aukioloaika").innerHTML = aukioloaika;
						
					//	var img = new Image();
					//	img.src = jsonObj.picture_url;
						
					}
					
				}
			
			
			}
			ajaxRequest.open("GET", "https://www.hel.fi/palvelukarttaws/rest/v4/unit/44849", true);
			ajaxRequest.send();
		}
		
	</script>
	
	<footer>
	<div class="row">
	<div class="col-sm-4">Footerissa</div>
	<div class="col-sm-4">on jotain</div>
	<div class="col-sm-4">tietoa sivustosta</div>
	</div>
	</footer>
</body>
</html> 